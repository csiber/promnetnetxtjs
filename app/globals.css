@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  --color-background: 228 241 255;
  --color-foreground: 12 28 53;
  --color-muted: 56 82 119;
  --color-border: 12 28 53;
  --color-border-opacity: 0.08;
  --color-card: 255 255 255;
  --color-card-opacity: 0.78;
  --color-accent: 56 189 248;
  --color-accent-foreground: 6 12 26;
  --color-success: 59 130 246;
  --color-warning: 250 204 21;
  --winter-gradient: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.8), transparent 55%),
    radial-gradient(circle at 80% 10%, rgba(147, 197, 253, 0.6), transparent 60%),
    radial-gradient(circle at 50% 100%, rgba(59, 130, 246, 0.45), transparent 65%),
    linear-gradient(180deg, rgba(15, 118, 205, 0.35) 0%, rgba(15, 118, 205, 0) 65%);
}

.dark {
  color-scheme: dark;
  --color-background: 9 16 28;
  --color-foreground: 226 232 240;
  --color-muted: 148 163 184;
  --color-border: 148 163 184;
  --color-border-opacity: 0.16;
  --color-card: 15 23 42;
  --color-card-opacity: 0.68;
  --color-accent: 125 211 252;
  --color-accent-foreground: 8 15 27;
  --color-success: 59 130 246;
  --color-warning: 253 224 71;
  --winter-gradient: radial-gradient(circle at 15% 20%, rgba(148, 163, 184, 0.32), transparent 60%),
    radial-gradient(circle at 75% 15%, rgba(125, 211, 252, 0.45), transparent 55%),
    radial-gradient(circle at 45% 95%, rgba(37, 99, 235, 0.4), transparent 70%),
    linear-gradient(180deg, rgba(30, 64, 175, 0.35) 0%, rgba(15, 23, 42, 0.4) 100%);
}

@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased transition-colors duration-500 ease-out;
    font-feature-settings: "ss03" on, "liga" on;
    min-height: 100vh;
    background-color: rgb(var(--color-background));
    background-image: var(--winter-gradient);
    background-attachment: fixed;
    background-size: cover;
  }

  a {
    @apply text-accent underline-offset-4 transition-colors duration-200;
  }

  a:hover {
    @apply text-accent/80;
  }

  ::selection {
    background: rgb(var(--color-accent));
    color: rgb(var(--color-accent-foreground));
  }

  :focus-visible {
    outline: 3px solid rgb(var(--color-accent));
    outline-offset: 4px;
  }
}

@supports (color: color-mix(in srgb, red, blue)) {
  ::selection {
    background: color-mix(in srgb, rgb(var(--color-accent)) 80%, transparent);
  }
}

@supports (outline: color-mix(in srgb, red, blue)) {
  :focus-visible {
    outline: 3px solid color-mix(in srgb, rgb(var(--color-accent)) 60%, transparent);
  }
}

@layer components {
  .promnet-surface {
    @apply rounded-3xl border bg-card/90 shadow-soft backdrop-blur-md transition-transform duration-200 ease-out;
  }

  .promnet-surface:hover {
    transform: translateY(-4px);
  }

  .promnet-grid {
    @apply grid grid-cols-2 gap-4 md:grid-cols-3;
  }

  @media (min-width: 1024px) {
    .promnet-grid {
      @apply gap-6;
    }
  }

  .promnet-badge {
    @apply inline-flex items-center gap-2 rounded-full bg-accent/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.25em] text-accent;
  }
}

.winter-backdrop {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.35), transparent 65%),
    linear-gradient(140deg, rgba(59, 130, 246, 0.15), rgba(14, 116, 144, 0.1));
  mix-blend-mode: screen;
  opacity: 0.65;
  filter: blur(0.5px);
  z-index: 0;
}

.winter-glow {
  position: fixed;
  width: 420px;
  height: 420px;
  border-radius: 9999px;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0));
  filter: blur(8px);
  opacity: 0.45;
  pointer-events: none;
  z-index: 0;
}

.winter-glow-top {
  top: -160px;
  left: 8%;
}

.winter-glow-bottom {
  bottom: -220px;
  right: 4%;
  background: radial-gradient(circle, rgba(56, 189, 248, 0.58), rgba(56, 189, 248, 0));
}

.winter-noise {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: repeating-radial-gradient(
      rgba(255, 255, 255, 0.08) 0px,
      rgba(255, 255, 255, 0.08) 1px,
      transparent 1px,
      transparent 2px
    ),
    repeating-linear-gradient(
      0deg,
      rgba(255, 255, 255, 0.04) 0px,
      rgba(255, 255, 255, 0.04) 2px,
      transparent 2px,
      transparent 4px
    );
  mix-blend-mode: soft-light;
  opacity: 0.3;
  z-index: 0;
}

.snowfall {
  position: fixed;
  inset: -10% 0 0 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 1;
  filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.4));
}

.snowflake {
  position: absolute;
  top: -10vh;
  width: var(--flake-size, 6px);
  height: var(--flake-size, 6px);
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.9);
  opacity: var(--flake-opacity, 0.85);
  transform: translate3d(0, 0, 0);
  animation: snowfall var(--flake-duration, 18s) linear var(--flake-delay, 0s) infinite;
  left: var(--flake-left, 50%);
}

.snowflake::after {
  content: "";
  position: absolute;
  inset: -40%;
  border-radius: inherit;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0));
  opacity: 0.8;
}

@keyframes snowfall {
  0% {
    transform: translate3d(0, -10vh, 0) rotate(0deg);
  }
  50% {
    transform: translate3d(calc(var(--flake-sway, 30px) * 0.5), 50vh, 0) rotate(180deg);
  }
  100% {
    transform: translate3d(calc(var(--flake-sway, 30px)), 110vh, 0) rotate(360deg);
  }
}
